(this.webpackJsonppacman=this.webpackJsonppacman||[]).push([[0],[,,,,,,,,function(t,e,a){t.exports=a(19)},,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var o=a(0),n=a.n(o),r=a(6),i=a.n(r),s=(a(13),a(7));a(14);function c(t){var e=t.score;return n.a.createElement("header",{className:"header"},n.a.createElement("span",null,"SCORE: ",10*e))}c.defaultProps={score:0};var l=c,d=a(1),p=a(2),u=a(4),h=a(3);function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t}).apply(this,arguments)}function m(t,e){if(null==t)return{};var a,o,n=function(t,e){if(null==t)return{};var a,o,n={},r=Object.keys(t);for(o=0;o<r.length;o++)a=r[o],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)a=r[o],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}var v=function(t){var e=t.svgRef,a=t.title,o=m(t,["svgRef","title"]);return n.a.createElement("svg",f({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 52 52",style:{enableBackground:"new 0 0 52 52"},xmlSpace:"preserve",ref:e},o),a?n.a.createElement("title",null,a):null,n.a.createElement("g",null,n.a.createElement("path",{style:{fill:"#F0C419"},d:"M44.385,44.385c-10.154,10.154-26.616,10.154-36.77,0s-10.154-26.616,0-36.77s26.616-10.154,36.77,0 L26,26L44.385,44.385z"}),n.a.createElement("circle",{style:{fill:"#556080"},cx:23,cy:12,r:3})))},b=n.a.forwardRef((function(t,e){return n.a.createElement(v,f({svgRef:e},t))})),g=(a.p,a(15),function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var o;return Object(d.a)(this,a),(o=e.call(this,t)).state={direction:"right",position:{top:0,left:0},boardWidth:o.props.boardWidth,boardHeight:o.props.boardHeight,isFocused:!0,focusOnPacman:o.props.focusOnPacman},o.isPacmanFocused=function(){document.activeElement===o.pacmanRef.current?o.setState({isFocused:!0}):o.setState({isFocused:!1})},o.handleKeyDown=function(t){var e=o.state.position.top,a=o.state.position.left,n=o.props,r=n.step,i=n.size;38===t.keyCode?o.setState({direction:"up",position:{top:Math.max(e-r,0),left:a}}):39===t.keyCode?o.setState({direction:"right",position:{top:e,left:Math.min(a+r,o.state.boardWidth-i)}}):40===t.keyCode?o.setState({direction:"down",position:{top:Math.min(e+r,o.state.boardHeight-i),left:a}}):37===t.keyCode&&o.setState({direction:"left",position:{top:e,left:Math.max(a-r,0)}})},o.pacmanRef=n.a.createRef(),o}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.pacmanRef.current.focus(),this.intervalFocusedOnPacman=setInterval(this.isPacmanFocused,10)}},{key:"componentDidUpdate",value:function(t,e){this.props.focusOnPacman!==t.focusOnPacman&&this.pacmanRef.current.focus()}},{key:"componentWillUnmount",value:function(){clearInterval(this.isPacmanFocused)}},{key:"render",value:function(){var t=this.state,e=t.direction,a=t.position;return n.a.createElement("div",{className:"pacman pacman-".concat(e),style:a,ref:this.pacmanRef,tabIndex:"0",onKeyDown:this.handleKeyDown},n.a.createElement(b,null))}}]),a}(o.Component));g.defaultProps={step:50,size:50};var y=g;function O(){return(O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t}).apply(this,arguments)}function E(t,e){if(null==t)return{};var a,o,n=function(t,e){if(null==t)return{};var a,o,n={},r=Object.keys(t);for(o=0;o<r.length;o++)a=r[o],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)a=r[o],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}var P=n.a.createElement("path",{d:"M295.023,70.021c-10.653-20.379-25.378-36.617-43.763-48.265C228.47,7.32,200.047,0,166.78,0s-61.69,7.32-84.48,21.757 c-18.386,11.647-33.11,27.886-43.763,48.265c-17.745,33.944-18.257,67.888-18.257,71.646v182.064c0,1.4,0.001,2.673,0.036,3.596 c0.214,5.784,4.052,6.233,5.223,6.233c2.327,0,3.61-1.173,7.316-4.88l0.213-0.214l34.969-44.641l34.895,44.274l0.392,0.441 c2.747,2.745,7.7,4.738,11.779,4.738h3.416c4.08,0,9.033-1.993,11.779-4.739l0.21-0.21l35.064-44.56l34.909,44.311l0.393,0.441 c2.756,2.756,7.71,4.756,11.779,4.756h3.416c4.08,0,9.034-1.993,11.78-4.739l0.21-0.21l35.063-44.559l34.906,44.444l0.396,0.447 c1.47,1.47,5.23,4.888,8.402,4.888c3.98,0,6.452-3.763,6.452-9.82V141.668C313.28,137.909,312.768,103.966,295.023,70.021z  M109.354,170.146c-17.999,0-32.59-14.591-32.59-32.59s14.591-32.59,32.59-32.59s32.591,14.591,32.591,32.59 S127.353,170.146,109.354,170.146z M223.354,170.146c-17.999,0-32.59-14.591-32.59-32.59s14.591-32.59,32.59-32.59 s32.591,14.591,32.591,32.59S241.353,170.146,223.354,170.146z"}),w=function(t){var e=t.svgRef,a=t.title,o=E(t,["svgRef","title"]);return n.a.createElement("svg",O({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 333.561 333.561",style:{enableBackground:"new 0 0 333.561 333.561"},xmlSpace:"preserve",ref:e},o),a?n.a.createElement("title",null,a):null,P)},S=n.a.forwardRef((function(t,e){return n.a.createElement(w,O({svgRef:e},t))})),k=(a.p,a(16),function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){var t;Object(d.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).state={direction:"left",position:{top:50*Math.floor(t.props.boardHeight/50/2),left:50*Math.floor(t.props.boardWidth/50/2)},boardWidth:t.props.boardWidth,boardHeight:t.props.boardHeight},t.changeDirection=function(){var e=["left","right","up","down"][Math.floor(4*Math.random())];t.setState({direction:e})},t.move=function(){var e=t.state.position.top,a=t.state.position.left,o=t.state.direction,n=t.props,r=n.step,i=n.size;t.props.isPacmanFocused&&("up"===o?t.setState({position:{top:Math.max(e-r,0),left:a}}):"right"===o?t.setState({position:{top:e,left:Math.min(a+r,t.state.boardWidth-i)}}):"down"===o?t.setState({position:{top:Math.min(e+r,t.state.boardHeight-i),left:a}}):"left"===o&&t.setState({position:{top:e,left:Math.max(a-r,0)}}))},t}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.changeDirectionInterval=setInterval(this.changeDirection,500),this.moveInterval=setInterval(this.move,500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.changeDirectionInterval),clearInterval(this.moveInterval)}},{key:"render",value:function(){var t=this.props.color;return n.a.createElement("div",{style:this.state.position,className:"ghost"},n.a.createElement(S,{className:"ghost-".concat(t)}))}}]),a}(o.Component));k.defaultProps={color:"red",step:50,size:50};var j=k,F=(a(17),function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){var t;Object(d.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).state={position:{top:t.props.position.top,left:t.props.position.left},hidden:!1},t}return Object(p.a)(a,[{key:"ate",value:function(){this.setState({hidden:!this.hidden})}},{key:"render",value:function(){var t=this.state,e=t.position,a=t.hidden;return n.a.createElement("div",{style:e,className:a?"food hidden":"food"},n.a.createElement("div",{className:"food-dot"}))}}]),a}(o.Component));F.defaultProps={foodSize:50,position:{top:0,left:0}};var M=F,W=(a(18),function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var o;Object(d.a)(this,a),(o=e.call(this,t)).lookForEatOrBeEaten=function(){for(var t=o.pacmanRef.current.state.position.left,e=o.pacmanRef.current.state.position.top,a=o.pacmanRef.current.props.size,n=t+a/2,r=e+a/2,i=0;i<=o.amountOfFood;i++){var s=o["food"+i].current;if(s){var c=s.state.position.left,l=s.state.position.top,d=s.props.foodSize,p=c+d/2,u=l+d/2;(t>=c&&t<=p||n>=c&&n<=p)&&(e>=l&&e<=u||r>=l&&r<=u)&&(s.state.hidden||(s.ate(),o.props.setScore((function(t){return t+1})),o.props.score>=o.amountOfFood&&(o.setState({won:!0}),clearInterval(o.intervalCollision))))}}for(var h=0;h<4;h++){var f=o["ghost"+h].current;if(f){var m=f.state.position.left,v=f.state.position.top,b=f.props.size,g=m+b/2,y=v+b/2;(t>=m&&t<=g||n>=m&&n<=g)&&(e>=v&&e<=y||r>=v&&r<=y)&&(o.state.isMobile||(o.setState({eatenByGhost:!0}),clearInterval(o.intervalCollision)))}}o.state.won||o.state.eatenByGhost||(o.pacmanRef.current.state.isFocused?o.setState({isPacmanFocused:!0}):o.setState({isPacmanFocused:!1}))},o.focusOnPacman=function(){o.setState({focusOnPacman:!o.state.focusOnPacman})},o.reload=function(){window.location.reload()},o.isMobile=function(){window.matchMedia("(hover)").matches||o.setState({isMobile:!0})},o.state={boardWidth:o.props.boardWidth,boardHeight:o.props.boardHeight,eatenByGhost:!1,won:!1,isPacmanFocused:!0,focusOnPacman:!1,isMobile:!1},o.pacmanRef=n.a.createRef();for(var r=0;r<4;r++)o["ghost"+r]=n.a.createRef();o.ghostRef=n.a.createRef(),o.foods=[],o.amountOfFood=o.state.boardWidth*o.state.boardHeight/(o.props.foodSize*o.props.foodSize)-1;for(var i=0;i<=o.amountOfFood;i++)o["food"+i]=n.a.createRef();return o}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.intervalCollision=setInterval(this.lookForEatOrBeEaten,10),this.isMobile()}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalCollision)}},{key:"render",value:function(){for(var t=this.props.foodSize,e=[],a=0,o=1*t,r=0;r<this.amountOfFood&&(o>=this.state.boardWidth&&(a+=this.props.foodSize,o=0),!(a>=this.state.boardHeight));r++){var i={left:o,top:a};o+=t,e.push(n.a.createElement(M,{key:"food-elem-".concat(r),position:i,ref:this["food"+r]}))}return n.a.createElement("main",{className:"board",style:{height:this.state.boardHeight,width:this.state.boardWidth}},this.state.won||this.state.eatenByGhost?this.state.won?n.a.createElement("div",{className:"text"},n.a.createElement("p",null,"You won!!!"),n.a.createElement("p",{onClick:this.reload},"Do you want to play again?")):n.a.createElement("div",{className:"text"},n.a.createElement("p",null,"Game Over"),n.a.createElement("p",{onClick:this.reload},"Do you want to play again?")):n.a.createElement(n.a.Fragment,null,this.state.isPacmanFocused?null:n.a.createElement("div",{className:"pausedBoard"},n.a.createElement("p",null,"Paused"),n.a.createElement("p",{onClick:this.focusOnPacman},"Click here to resume")),this.state.isMobile?n.a.createElement("div",{className:"pausedBoard mobileBoard"},n.a.createElement("p",null,"Mobile it's out of order.",n.a.createElement("br",null),"You need a keyboard to play pacman.")):null,n.a.createElement(y,{ref:this.pacmanRef,focusOnPacman:this.state.focusOnPacman,boardHeight:this.state.boardHeight,boardWidth:this.state.boardWidth}),n.a.createElement(j,{ref:this.ghost0,isPacmanFocused:this.state.isPacmanFocused,color:"pink",boardHeight:this.state.boardHeight,boardWidth:this.state.boardWidth}),n.a.createElement(j,{ref:this.ghost1,isPacmanFocused:this.state.isPacmanFocused,boardHeight:this.state.boardHeight,boardWidth:this.state.boardWidth}),n.a.createElement(j,{ref:this.ghost2,isPacmanFocused:this.state.isPacmanFocused,color:"blue",boardHeight:this.state.boardHeight,boardWidth:this.state.boardWidth}),n.a.createElement(j,{ref:this.ghost3,isPacmanFocused:this.state.isPacmanFocused,color:"orange",boardHeight:this.state.boardHeight,boardWidth:this.state.boardWidth}),e))}}]),a}(o.Component));W.defaultProps={foodSize:50};var R=W;var H=function(){var t=Object(o.useState)(0),e=Object(s.a)(t,2),a=e[0],r=e[1],i=50*Math.floor((window.innerWidth-20)/50),c=50*Math.floor((window.innerHeight-20-50)/50);return n.a.createElement("div",{className:"App"},n.a.createElement(l,{score:a}),n.a.createElement(R,{score:a,setScore:r,boardWidth:i,boardHeight:c}))};i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(H,null)),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.298888cb.chunk.js.map